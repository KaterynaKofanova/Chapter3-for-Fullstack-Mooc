{"version":3,"sources":["components/Phonebook.js","components/Number.js","components/Name.js","components/Search.js","services/contacts.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Phonebook","persons","handleDelete","phonebook","map","person","key","name","number","onClick","id","console","log","Number","handle","value","onChange","Name","Search","word","baseUrl","axios","get","then","response","data","newContact","post","delete","contact","put","Notification","message","className","ErrorRed","App","useState","setPersons","errorMessage","setErrorMessage","errorRed","setErrorRed","useEffect","contactService","initialContacts","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","personsToShow","filter","toLowerCase","includes","Error","event","target","onSubmit","preventDefault","newPerson","some","window","confirm","existing","find","n","changedPerson","setTimeout","catch","error","alert","concat","type","deleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.05924450.chunk.js","sourcesContent":["import React from 'react'\nconst Phonebook = ({persons,handleDelete}) => {\n    const phonebook=persons.map(person => <p key= {person.name}> \n        {person.name} {person.number} <button onClick={()=>handleDelete(person.id)}>delete</button> </p>)\n    console.log('phonebook is', phonebook)\n    return( \n        <div>\n            {phonebook}\n        </div>\n    )\n}\nexport default Phonebook","import React from 'react'\nconst Number = ({number, handle})=>{\n    return(\n        <div>\n            Number: <input value={number} onChange={handle}/>\n        </div>\n    )\n}\nexport default Number","import React from 'react'\nconst Name = ({name,handle})=> {\n    return(\n        <div>\n            Name: <input value = {name} onChange={handle}/>\n        </div>\n    )\n}\nexport default Name","import React from 'react'\nconst Search = ({word, handle})=>{\n    return(\n        <div>\n        Search for contact: <input value={word} onChange={handle} />\n        </div>\n    )\n}\nexport default Search","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\n/*Getting all contacts*/\nconst getAll =()=> {\n    const request = axios.get(baseUrl)\n    return request.then(\n        response => response.data\n    )\n}\n/*Adding new contact*/\nconst addNew=newContact=>{\n    const request = axios.post(baseUrl, newContact)\n    return request.then(\n        response=> response.data\n    )\n}\n/*Deleting contact*/\nconst delCont = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response=>response.data)\n}\n/*Changing number of existing contact*/\nconst changeCont = (id, contact) =>{\n    return axios.put(`${baseUrl}/${id}`, contact)\n}\nexport default {\n    getAll,\n    addNew,\n    delCont,\n    changeCont\n}","import React from 'react'\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notification\">\n        {message}\n      </div>\n    )\n  }\n  export default Notification","import React from 'react'\nconst ErrorRed = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n  export default ErrorRed","import React, { useState, useEffect } from 'react'\nimport Phonebook from './components/Phonebook'\nimport Number from './components/Number'\nimport Name from './components/Name'\nimport Search from './components/Search'\nimport contactService from './services/contacts'\nimport Notification from './components/Notification'\nimport ErrorRed from './components/Error'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [errorMessage, setErrorMessage] = useState(null)\n  const[errorRed, setErrorRed]= useState(null)\n\n/*Get initial contacts from the server*/\n  useEffect(() => {\n    contactService.getAll()\n      .then(initialContacts => {\n      setPersons(initialContacts)\n    })\n  }, [] )\n  \n  /*Values of inputs by user*/\n  const [ newName, setNewName ] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  \n\n  /*Handling changes in values*/\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  const handleDelete=(id)=>{\n    if (window.confirm(\"Do you really want to delete this contact?\")) { \n      contactService\n      .delCont(id, setErrorRed)\n      .then(deleted=>{setPersons(persons.filter(person=>person.id!==id))})\n    setErrorMessage(\n      `Contact was deleted from the phonebook`\n    )\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n    }}\n\n  /*Form onClick*/ \n  const addName = (event) => {\n    event.preventDefault()\n    const newPerson = { name: newName,number: newNumber,}\n\n    if(persons.some(person => person.name === newName)){\n      if (window.confirm(`${newName} is already added to the phonebook. Do you want to change the number?`)){\n        const existing=persons.find(n=>n.name===newName)\n        const changedPerson={...existing,number:newNumber}\n        contactService.changeCont(existing.id, changedPerson)\n        .then(response =>{\n          setPersons(persons.map(person=>person.name!==response.data.name?person:response.data))\n          setErrorMessage(\n            `Number for ${newName} was changed`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorRed('Information on this contact has been removed from the server')\n          setTimeout(()=> { \n            setErrorRed(null)}, 5000)\n            setPersons(persons.filter(person=>person.id!==existing.id))\n        })\n        setNewName('');\n        setNewNumber('');  \n    }\n    }else if(persons.some(person => person.number === newNumber)){\n      window.alert(`${newNumber} is already added to phonebook`);\n      setNewNumber('');\n    }else{\n      contactService.addNew(newPerson)\n        .then(newContact=> {\n          setPersons(persons.concat(newContact))\n          setErrorMessage(\n            `${newName} was added to the phonebook`\n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n        .catch(error=>{\n          console.log(error.response.data)\n          setErrorRed(error.response.data.error)\n          setTimeout(() => {\n            setErrorRed(null)\n          }, 5000)\n        })\n        \n      setNewFilter('');\n      setNewName('');\n      setNewNumber('');\n    }\n    console.log('persons is', persons)\n    \n  }\n  \n  console.log('persons is', persons, 'filter is', newFilter)\n\n  /*Filter persons*/\n  const personsToShow = newFilter===' '?persons:persons.filter(person=>person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <ErrorRed message={errorRed} />\n       <Search word={newFilter} handle={handleFilterChange} />\n      <h3>Add new contact</h3>\n      <form onSubmit ={addName}>\n          <Name name = {newName} handle={handleNameChange}/>\n          <Number number={newNumber} handle={handleNumberChange}/>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h3>Numbers</h3>\n      <Phonebook persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}