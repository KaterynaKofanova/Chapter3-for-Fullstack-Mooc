(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},37:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(14),c=t.n(r),u=t(4),l=t(2),i=function(e){var n=e.persons,t=e.handleDelete,a=n.map((function(e){return o.a.createElement("p",{key:e.name},e.name," ",e.number," ",o.a.createElement("button",{onClick:function(){return t(e.id)}},"delete")," ")}));return console.log("phonebook is",a),o.a.createElement("div",null,a)},m=function(e){var n=e.number,t=e.handle;return o.a.createElement("div",null,"Number: ",o.a.createElement("input",{value:n,onChange:t}))},s=function(e){var n=e.name,t=e.handle;return o.a.createElement("div",null,"Name: ",o.a.createElement("input",{value:n,onChange:t}))},f=function(e){var n=e.word,t=e.handle;return o.a.createElement("div",null,"Search for contact: ",o.a.createElement("input",{value:n,onChange:t}))},d=t(3),h=t.n(d),b="/api/persons",p=function(){return h.a.get(b).then((function(e){return e.data}))},v=function(e){return h.a.post(b,e).then((function(e){return e.data}))},E=function(e){return h.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},w=function(e,n){return h.a.put("".concat(b,"/").concat(e),n)},g=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"notification"},n)},j=function(e){var n=e.message;return null===n?null:o.a.createElement("div",{className:"error"},n)},O=(t(37),function(){var e=Object(a.useState)([]),n=Object(l.a)(e,2),t=n[0],r=n[1],c=Object(a.useState)(null),d=Object(l.a)(c,2),h=d[0],b=d[1],O=Object(a.useState)(null),k=Object(l.a)(O,2),y=k[0],S=k[1];Object(a.useEffect)((function(){p().then((function(e){r(e)}))}),[]);var C=Object(a.useState)(""),N=Object(l.a)(C,2),D=N[0],T=N[1],I=Object(a.useState)(""),J=Object(l.a)(I,2),L=J[0],x=J[1],A=Object(a.useState)(""),B=Object(l.a)(A,2),P=B[0],q=B[1];console.log("persons is",t,"filter is",P);var z=" "===P?t:t.filter((function(e){return e.name.toLowerCase().includes(P.toLowerCase())}));return o.a.createElement("div",null,o.a.createElement("h2",null,"Phonebook"),o.a.createElement(g,{message:h}),o.a.createElement(j,{message:y}),o.a.createElement(f,{word:P,handle:function(e){q(e.target.value)}}),o.a.createElement("h3",null,"Add new contact"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n={name:D,number:L};if(t.some((function(e){return e.name===D}))){if(window.confirm("".concat(D," is already added to the phonebook. Do you want to change the number?"))){var a=t.find((function(e){return e.name===D})),o=Object(u.a)(Object(u.a)({},a),{},{number:L});w(a.id,o).then((function(e){r(t.map((function(n){return n.name!==e.data.name?n:e.data}))),b("Number for ".concat(D," was changed")),setTimeout((function(){b(null)}),5e3)})).catch((function(e){S("Information on this contact has been removed from the server"),setTimeout((function(){S(null)}),5e3),r(t.filter((function(e){return e.id!==a.id})))})),T(""),x("")}}else t.some((function(e){return e.number===L}))?(window.alert("".concat(L," is already added to phonebook")),x("")):(v(n).then((function(e){r(t.concat(e))})),b("".concat(D," was added to the phonebook")),setTimeout((function(){b(null)}),5e3),q(""),T(""),x(""));console.log("persons is",t)}},o.a.createElement(s,{name:D,handle:function(e){T(e.target.value)}}),o.a.createElement(m,{number:L,handle:function(e){x(e.target.value)}}),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement("h3",null,"Numbers"),o.a.createElement(i,{persons:z,handleDelete:function(e){window.confirm("Do you really want to delete this contact?")&&(E(e,S).then((function(n){r(t.filter((function(n){return n.id!==e})))})),b("Contact was deleted from the phonebook"),setTimeout((function(){b(null)}),5e3))}}))});c.a.render(o.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.48121e77.chunk.js.map